<!DOCTYPE html>
<html lang="tl">
<head>
    <meta charset="UTF-8">
    <title>Solid Encoder/Decoder Toolkit</title>
    <style>
        :root {
            --background-color: #0f172a;
            --surface-color: #1e293b;
            --primary-color: #38bdf8;
            --text-color: #e2e8f0;
            --border-color: #334155;
        }
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: var(--background-color);
            color: var(--text-color);
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: auto;
        }
        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 2rem;
        }
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 1rem;
        }
        .tab-button {
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            background: none;
            color: var(--text-color);
            font-size: 1rem;
            opacity: 0.6;
            border-bottom: 2px solid transparent;
        }
        .tab-button.active {
            opacity: 1;
            border-bottom: 2px solid var(--primary-color);
        }
        .tool-pane {
            display: none;
        }
        .tool-pane.active {
            display: block;
        }
        h2 {
            margin-top: 0;
        }
        textarea {
            width: 100%;
            height: 200px;
            margin-bottom: 10px;
            background: var(--surface-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 10px;
            box-sizing: border-box;
            font-family: monospace;
            resize: vertical;
        }
        .buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 1rem;
        }
        button {
            flex: 1;
            padding: 12px;
            background: var(--primary-color);
            color: var(--background-color);
            border: none;
            cursor: pointer;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1rem;
        }
        button:hover {
            opacity: 0.9;
        }
        .error {
            color: #f87171;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Solid Encoder/Decoder Toolkit</h1>

    <div class="tabs">
        <button class="tab-button active" onclick="showTool('js')">JavaScript Encoder/Decoder</button>
        <button class="tab-button" onclick="showTool('base64')">Base64 Encoder/Decoder</button>
    </div>

    <div id="jsTool" class="tool-pane active">
        <h2>JavaScript Obfuscator / Deobfuscator</h2>
        <textarea id="jsInput" placeholder="Ilagay ang JavaScript code dito..."></textarea>
        <div class="buttons">
            <button onclick="obfuscateJS()">Encode / Obfuscate JS</button>
            <button onclick="deobfuscateJS()">Decode / Deobfuscate JS</button>
        </div>
        <textarea id="jsOutput" placeholder="Ang resulta ay lalabas dito..." readonly></textarea>
    </div>

    <div id="base64Tool" class="tool-pane">
        <h2>Base64 Encoder / Decoder</h2>
        <textarea id="base64Input" placeholder="Ilagay ang text o Base64 string dito..."></textarea>
        <div class="buttons">
            <button onclick="encodeBase64()">Encode to Base64</button>
            <button onclick="decodeBase64()">Decode from Base64</button>
        </div>
        <textarea id="base64Output" placeholder="Ang resulta ay lalabas dito..." readonly></textarea>
    </div>
</div>

<script>
    function showTool(toolName) {
        document.querySelectorAll('.tool-pane').forEach(pane => pane.classList.remove('active'));
        document.querySelectorAll('.tab-button').forEach(button => button.classList.remove('active'));
        
        document.getElementById(toolName + 'Tool').classList.add('active');
        document.querySelector(`button[onclick="showTool('${toolName}')"]`).classList.add('active');
    }

    // --- JavaScript Tool Logic ---
    function obfuscateJS() {
        const input = document.getElementById('jsInput').value;
        const output = document.getElementById('jsOutput');
        if (!input) {
            output.value = "Maglagay muna ng code.";
            return;
        }
        try {
            // Classic na method: btoa (binary to ASCII) + eval(atob(...))
            const encoded = btoa(input);
            output.value = `eval(atob("${encoded}"))`;
            output.classList.remove('error');
        } catch (e) {
            output.value = 'Error: ' + e.message;
            output.classList.add('error');
        }
    }

    function deobfuscateJS() {
        const input = document.getElementById('jsInput').value;
        const output = document.getElementById('jsOutput');
        if (!input) {
            output.value = "Maglagay muna ng naka-obfuscate na code.";
            return;
        }
        try {
            // Gamit ang regex para hanapin yung Base64 string sa loob ng atob("...")
            const match = input.match(/atob\("([^"]+)"\)/);
            if (match && match[1]) {
                const decoded = atob(match[1]);
                output.value = decoded;
                output.classList.remove('error');
            } else {
                throw new Error("Hindi mahanap ang valid `atob(\"...\")` pattern.");
            }
        } catch (e) {
            output.value = 'Error: ' + e.message;
            output.classList.add('error');
        }
    }

    // --- Base64 Tool Logic ---
    function encodeBase64() {
        const input = document.getElementById('base64Input').value;
        const output = document.getElementById('base64Output');
        if (!input) {
            output.value = "Maglagay muna ng text.";
            return;
        }
        try {
            output.value = btoa(input);
            output.classList.remove('error');
        } catch (e) {
            output.value = 'Error: Hindi ma-encode ang text. Ang `btoa` ay para lang sa mga standard na characters (ASCII). Hindi nito kaya ang mga special characters tulad ng emojis o Ã±.';
            output.classList.add('error');
        }
    }

    function decodeBase64() {
        const input = document.getElementById('base64Input').value;
        const output = document.getElementById('base64Output');
         if (!input) {
            output.value = "Maglagay muna ng Base64 string.";
            return;
        }
        try {
            output.value = atob(input);
            output.classList.remove('error');
        } catch (e) {
            output.value = 'Error: Invalid Base64 string. Siguraduhing tama ang iyong ipinasok.';
            output.classList.add('error');
        }
    }
</script>

</body>
</html>